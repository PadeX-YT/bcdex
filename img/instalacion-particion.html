<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="page_title_article_3">Guía: Instalar Windows desde Partición con BCDeX</title>

    <!-- SCRIPT DE GOOGLE ADSENSE (MANDATORIO) -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4767336397819252"
        crossorigin="anonymous"></script>

    <!-- FAVICON: Icono proporcionado por el usuario -->
    <link rel="icon" type="image/x-icon" href="uploaded:LittlePadeX.ico">
    <!-- Carga de Tailwind CSS para utilidades -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Fuente Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../estilos.css">
    <!-- Carga de íconos de Lucide -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- 1. ESTILOS CSS INCLUIDOS EN EL MISMO ARCHIVO -->
    <style>
        /* Definición de Variables de Color y Tipografía */
        :root {
            --color-primary-base: #FFFFFF; /* Fondo principal BLANCO */
            --color-surface: #F9FAFB;      /* Fondo de secciones (Gris muy claro) */
            --color-nav-footer: #1F2937;   /* Fondo oscuro para Nav y Footer (Gris 800) */
            --color-accent: #E53E3E;       /* Color de acento/Botón principal (Rojo 600) */
            --color-accent-dark: #C53030;  /* Rojo 700 para hover */
            --color-text-primary: #111827; /* Texto principal (Gris 900) */
            --color-text-secondary: #4B5563; /* Texto secundario (Gris 600) */
            --color-border: #E5E7EB;       /* Borde/Divisor (Gris 200) */
            --font-primary: 'Inter', sans-serif;
            /* header-height global en estilos.css */
        }

        /* Estilo general del cuerpo */
        body {
            font-family: var(--font-primary);
            background-color: var(--color-surface); /* Fondo Gris muy claro */
            color: var(--color-text-primary);
        }

        /* Estilos de la Navegación y Footer: heredan de estilos.css */

        /* Botón Principal (btn-primary) */
        .btn-primary {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1.5rem; /* py-3 px-6 */
            border-radius: 0.5rem; /* rounded-lg */
            font-weight: 600; /* font-semibold */
            background-color: var(--color-accent);
            color: var(--color-primary-base);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
            transition: all 0.2s ease-in-out;
            text-decoration: none;
        }
        .btn-primary:hover {
            background-color: var(--color-accent-dark);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
        }

        /* Selector de idioma: hereda de estilos.css */
        
        /* Estilos de Artículos (Content) */
        .article-container {
            max-width: 800px;
            margin: 0 auto;
            background-color: var(--color-primary-base);
            padding: 2rem;
            border-radius: 1rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
        }
        
        /* Títulos de sección */
        .section-title {
            display: flex;
            align-items: center;
            font-size: 1.75rem; /* text-3xl */
            font-weight: 700; /* font-bold */
            color: var(--color-accent);
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }
        .section-title svg {
            margin-right: 0.5rem;
            color: var(--color-accent-dark);
        }

        /* Estilo para bloques de código (PowerShell) */
        .code-block {
            background-color: #1F2937; /* Gris oscuro */
            color: #F9FAFB;
            padding: 0.75rem;
            border-radius: 0.5rem;
            font-family: monospace;
            overflow-x: auto;
            margin-top: 0.5rem;
            margin-bottom: 1rem;
            position: relative;
            user-select: all; /* Permite seleccionar fácilmente el texto */
        }
        
        /* Botón de Copiar */
        .copy-button {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            padding: 0.4rem;
            background-color: #374151; /* Gris medio */
            color: #D1D5DB;
            border: none;
            border-radius: 0.375rem;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.1s;
        }
        .copy-button:hover {
            background-color: var(--color-accent);
            color: var(--color-primary-base);
            transform: scale(1.05);
        }
        .copy-button svg {
            width: 1rem;
            height: 1rem;
        }

        /* Tabla de servicios */
        .service-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
            margin-bottom: 2rem;
            font-size: 0.95rem;
        }
        .service-table th, .service-table td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid var(--color-border);
        }
        .service-table th {
            background-color: var(--color-surface);
            font-weight: 600;
            color: var(--color-text-primary);
            position: sticky;
            top: 0;
        }
        .service-table tr:hover {
            background-color: #F3F4F6;
        }
        .service-table .service-name {
            font-family: monospace;
            font-weight: 500;
            color: var(--color-accent-dark);
        }
        
        /* Contenedor de la imagen (Bloque de usuario) */
        .blog-image-center {
            text-align:center; 
            margin:1rem 0 1.5rem 0;
        }
        .blog-image-center img {
            max-width:40%; 
            height:auto; 
            border-radius:10px; 
            box-shadow:0 2px 12px rgba(0,0,0,0.1); 
            display:inline-block;
        }
        
        /* Responsividad de la imagen en móvil */
        @media (max-width: 640px) {
            .article-container {
                padding: 1.5rem;
            }
            .blog-image-center img {
                max-width: 80%; /* Más grande en móvil */
            }
            .service-table th:nth-child(2), .service-table td:nth-child(2) {
                display: none; /* Ocultar columna 'Para qué sirve' en móvil para ahorrar espacio */
            }
        }
        
        /* Enlace de Tienda/Página oficial */
        .external-link {
            color: var(--color-accent);
            font-weight: 600;
            text-decoration: underline;
        }
        .external-link:hover {
            color: var(--color-accent-dark);
        }
        
        /* Estilos Específicos del Footer */
        .custom-footer {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            gap: 1rem; 
            padding: 2rem 1rem;
        }
        .footer-pages a {
            font-weight: 500;
            transition: color 0.15s ease;
            color: #D1D5DB; 
        }
        .footer-pages a:hover {
            color: var(--color-accent); 
        }
        .footer-links {
            display: flex;
            gap: 1rem;
            margin-top: 0.5rem;
        }
        .footer-links a {
            transition: transform 0.2s ease, color 0.2s ease;
            color: #D1D5DB; 
        }
        .footer-links a:hover {
            transform: scale(1.2);
            color: var(--color-accent); 
        }
        .footer-icon {
            display: none; 
        }
    </style>
</head>

<body>

    <!-- 2. NAVEGACIÓN (HEADER) - INICIO (Fondo Oscuro, Texto Claro) -->
    <header class="bg-nav-footer shadow-lg sticky top-0 z-50 h-[var(--header-height)]">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full">
            <div class="flex items-center justify-between h-full">
                <!-- Logo/Título -->
                <div class="flex-shrink-0 flex items-center">
                    <a href="../index.html" class="flex items-center">
                        <!-- LOGO: Usando el icono LittlePadeX.ico -->
                        <img src="../img/LittlePadeX.ico" alt="Logo BCDeX" class="logo-img hidden sm:block mr-2" onerror="this.onerror=null; this.src='../img/LittlePadeX.ico'">
                    </a>
                </div>
                
                <!-- Menú de Navegación (Desktop) -->
                <div class="hidden lg:ml-6 lg:block">
                    <div class="flex items-center space-x-2">
                        <!-- Enlaces de Navegación -->
                        <a href="../index.html" data-i18n="nav_home" class="nav-text-color nav-link-hover px-3 py-2 text-sm font-medium transition duration-150">Inicio</a>
                        <a href="../tutorial.html" data-i18n="nav_tutorial" class="nav-text-color nav-link-hover px-3 py-2 text-sm font-medium transition duration-150">Tutorial</a>
                        <a href="../info.html" data-i18n="nav_what_is" class="nav-text-color nav-link-hover px-3 py-2 text-sm font-medium transition duration-150">¿BCDeX?</a>
                        <a href="../blog.html" data-i18n="nav_blog" class="nav-text-color nav-link-hover px-3 py-2 text-sm font-medium transition duration-150">Blog</a>
                        <a href="../donaciones.html" data-i18n="nav_donations" class="nav-text-color nav-link-hover px-3 py-2 text-sm font-medium transition duration-150">Donaciones</a>
                        <!-- ENLACE DE DESCARGA: Mismas clases que el resto -->
                        <a href="../descarga.html" data-i18n="nav_download" class="nav-text-color nav-link-hover px-3 py-2 text-sm font-medium transition duration-150">
                            Descarga
                        </a>
                        <a href="../contacto.html" data-i18n="nav_contact" class="nav-text-color nav-link-hover px-3 py-2 text-sm font-medium transition duration-150">Contacto</a>
                        <a href="../sobre-el-creador.html" data-i18n="nav_sobre_el_creador" class="nav-text-color nav-link-hover px-3 py-2 text-sm font-medium transition duration-150">Sobre el Creador</a>

                        <!-- Selector de Idioma (Desktop) -->
                        <div class="language-container ml-4">
                            <!-- Usaremos una bandera por defecto -->
                            <div class="language-selector" id="language-selector-desktop" 
                                style="background-image: url('../img/españa.png');">
                            </div>
                            <div class="language-dropdown" id="language-dropdown-desktop">
                                <div class="language-option" data-lang="es" 
                                     style="background-image: url('../img/españa.png')"></div>
                                <div class="language-option" data-lang="en" 
                                     style="background-image: url('../img/usa.png')"></div>
                                <div class="language-option" data-lang="pt-br" 
                                     style="background-image: url('../img/brasil.png')"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Botón de Menú Móvil (Visible solo en móvil/tablet) -->
                <div class="lg:hidden flex items-center">
                    <!-- Selector de Idioma (Móvil) - Antes de la hamburguesa -->
                    <div class="language-container mr-4">
                        <div class="language-selector" id="language-selector-mobile" 
                            style="background-image: url('../img/españa.png');">
                        </div>
                        <div class="language-dropdown" id="language-dropdown-mobile">
                            <div class="language-option" data-lang="es" 
                                 style="background-image: url('../img/españa.png')"></div>
                            <div class="language-option" data-lang="en" 
                                 style="background-image: url('../img/usa.png')"></div>
                            <div class="language-option" data-lang="pt-br" 
                                 style="background-image: url('../img/brasil.png')"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Botón Hamburguesa -->
                    <button id="mobile-menu-button" type="button" class="lg:hidden inline-flex items-center justify-center p-2 rounded-md text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-[color:var(--color-accent)]" aria-controls="mobile-menu" aria-expanded="false" aria-label="Menú de navegación">
                        <svg class="block h-6 w-6" id="menu-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                        </svg>
                        <svg class="hidden h-6 w-6" id="close-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
            </div>
        </nav>

        <!-- Menú Móvil Desplegable -->
        <div class="lg:hidden hidden absolute top-[var(--header-height)] left-0 w-full bg-[color:var(--color-nav-footer)] shadow-xl border-t border-gray-700 pb-2" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a href="../index.html" data-i18n="nav_home" class="nav-text-color hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium transition duration-150">Inicio</a>
                <a href="../tutorial.html" data-i18n="nav_tutorial" class="nav-text-color hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium transition duration-150">Tutorial</a>
                <a href="../info.html" data-i18n="nav_what_is" class="nav-text-color hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium transition duration-150">¿BCDeX?</a>
                <a href="../blog.html" data-i18n="nav_blog" class="nav-text-color hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium transition duration-150">Blog</a>
                <a href="../donaciones.html" data-i18n="nav_donations" class="nav-text-color hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium transition duration-150">Donaciones</a>
                <!-- ENLACE DE DESCARGA MÓVIL -->
                <a href="../descarga.html" data-i18n="nav_download" class="nav-text-color hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium transition duration-150">
                    Descarga
                </a>
                <a href="../contacto.html" data-i18n="nav_contact" class="nav-text-color hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium transition duration-150">Contacto</a>
                <a href="../sobre-el-creador.html" data-i18n="nav_sobre_el_creador" class="nav-text-color hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium transition duration-150">Sobre el Creador</a>
            </div>
        </div>
    </header>
    <!-- 2. NAVEGACIÓN (HEADER) - FIN -->

    <main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
        <!-- CONTENIDO DEL ARTÍCULO (FONDO BLANCO) -->
        <article class="bg-white p-6 sm:p-8 lg:p-10 rounded-xl shadow-2xl">
            <!-- TÍTULO DEL ARTÍCULO (TEXTO OSCURO) -->
            <h1 data-i18n="article_3_title" class="text-3xl sm:text-4xl font-extrabold text-gray-900 mb-4">
                Guía: Crea una instalación de Windows desde partición con BCDeX
            </h1>

            <!-- CONTENIDO DEL ARTÍCULO (TEXTO OSCURO) -->
            <div class="article-content space-y-6 text-lg text-gray-800">
                <p data-i18n="article_3_p1">
                    Olvídate del USB. Con BCDeX puedes instalar Windows directamente desde el disco duro. Aquí te explicamos cómo hacerlo paso a paso, sin complicaciones.
                </p>

                <h2 data-i18n="article_3_h2_1" class="text-2xl font-bold text-color-accent pt-4 flex items-center">
                    Paso 1: Inicia BCDeX y elige el disco
                </h2>

                <p data-i18n="article_3_p2">
                    Al abrir la app, selecciona el disco duro donde se creará la partición de instalación temporal. Puedes usar cualquier disco interno o externo, pero asegúrate de elegir el correcto.
                </p>

                <h2 data-i18n="article_3_h2_2" class="text-2xl font-bold text-color-accent pt-4 flex items-center">
                    Paso 2: Selecciona la imagen ISO de Windows
                </h2>

                <p data-i18n="article_3_p3">
                    Puedes usar cualquier ISO desde Windows 7 hasta Windows 11, incluyendo versiones modificadas. Si tu PC no cumple los requisitos de Windows 11 (TPM, Secure Boot), no te preocupes, BCDeX se encarga de omitir estas comprobaciones.
                </p>

                <h2 data-i18n="article_3_h2_3" class="text-2xl font-bold text-color-accent pt-4 flex items-center">
                    Paso 3: Deja que la app trabaje
                </h2>

                <p data-i18n="article_3_p4">
                    Pulsando en "Siguiente", BCDeX iniciará el proceso automatizado: creará una partición, montará la ISO y copiará todos los archivos necesarios.
                </p>

                <h2 data-i18n="article_3_h2_4" class="text-2xl font-bold text-color-accent pt-4 flex items-center">
                    Paso 4: Personaliza tu instalación (Opcional)
                </h2>

                <p data-i18n="article_3_p5">
                    Antes de finalizar, la app te da la opción de personalizar el nuevo Windows. Puedes crear un usuario, omitir la configuración de red, eliminar la telemetría y desinstalar bloatware para tener un sistema más limpio y rápido desde el primer momento.
                </p>

                <h2 data-i18n="article_3_h2_5" class="text-2xl font-bold text-color-accent pt-4 flex items-center">
                    Paso 5: Reinicia e instala
                </h2>

                <p data-i18n="article_3_p6">
                    La app te preguntará si quieres reiniciar. Al hacerlo, el sistema arrancará en el entorno de instalación de BCDeX. Si no lo hace automáticamente, selecciónalo en el menú de arranque de tu PC. A partir de ahí, el proceso es el de una instalación normal de Windows.
                </p>

                <p data-i18n="article_3_p7_note" class="p-3 border-l-4 border-yellow-500 bg-yellow-500/20 text-gray-800 rounded-lg">
                    <strong>💡 Importante:</strong> Durante la instalación, no elimines la partición llamada "BCDeX Vol", ya que contiene todos los archivos necesarios.
                </p>

                <h2 data-i18n="article_3_h2_6" class="text-2xl font-bold text-color-accent pt-4 flex items-center">
                    Paso 6: Finalización y limpieza
                </h2>

                <p data-i18n="article_3_p8">
                    Una vez instalado tu nuevo Windows, puedes ejecutar BCDeX de nuevo desde la partición temporal y usar la opción "Deshacer cambios". Esto eliminará la partición de instalación y devolverá el espacio a tu disco, dejando tu PC impecable.
                </p>

                <a href="blog.html" data-i18n="article_3_back_link" class="inline-block mt-8 text-color-accent hover:text-red-600 transition duration-150 font-medium">
                    ← Volver a todos los artículos
                </a>
            </div>
        </article>
    </main>
    <!-- 3. Pie de Página (Footer) -->
    <footer class="bg-nav-footer mt-12 py-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 custom-footer text-center">
            <p class="footer-text text-lg font-medium " data-i18n="footer_creator">
                PadeX - Creador de contenido y desarrollador
            </p>
            <p class="footer-pages text-sm space-x-4">
                <a href="../privacidad.html" class="text-red-600 hover:text-red-500 transition duration-150" data-i18n="footer_privacy">Privacidad</a> 
                <span class="text-gray-500">|</span>
                <a href="../terminos.html" class="text-red-600 hover:text-red-500 transition duration-150" data-i18n="footer_terms">Términos y Condiciones</a>
            </p>
            <div class="footer-links">
                <a href="https://www.youtube.com/@PadeX" target="_blank" title="YouTube">
                    <img src="../img/youtube.png" alt="YouTube" class="footer-icon">
                </a>
                <a href="https://www.facebook.com/PadeX" target="_blank" title="Facebook">
                    <img src="../img/facebook.png" alt="Facebook" class="footer-icon">
                </a>
                <a href="mailto:contact@padex.com" title="Gmail">
                    <img src="../img/gmail.png" alt="Gmail" class="footer-icon">
                </a>
                <a href="https://www.tiktok.com/@padex" target="_blank" title="TikTok">
                    <img src="../img/tiktok.png" alt="TikTok" class="footer-icon">
                </a>
                <a href="https://www.instagram.com/@padex" target="_blank" title="Instagram">
                    <img src="../img/instagram.png" alt="Instagram" class="footer-icon">
                </a>
                <a href="https://x.com/padex" target="_blank" title="X">
                    <img src="../img/x.png" alt="X" class="footer-icon">
                </a>
            </div>
            <p class="footer-text text-sm mt-4" data-i18n="footer_copyright">&copy; 2025 BCDeX. Todos los derechos reservados.</p>
        </div>
    </footer>
   


    <!-- 4. SCRIPTS JS (Al final del body para mejor rendimiento) -->
    <script type="text/javascript">
        // Diccionario de traducciones (simulado)
        const translations = {
            'es': {
                'nav_home': 'Inicio',
                'nav_tutorial': 'Tutorial',
                'nav_what_is': '¿BCDeX?',
                'nav_blog': 'Blog',
                'nav_donations': 'Donaciones',
                'nav_download': 'Descarga',
                'nav_contact': 'Contacto',
                'nav_sobre_el_creador': 'Sobre el Creador',
                'page_title_article_3': 'Guía: Instalar Windows desde Partición con BCDeX',
                'article_3_title': 'Guía: Crea una instalación de Windows desde partición con BCDeX',
                'article_3_p1': 'Olvídate del USB. Con BCDeX puedes instalar Windows directamente desde el disco duro. Aquí te explicamos cómo hacerlo paso a paso, sin complicaciones.',
                'article_3_h2_1': 'Paso 1: Inicia BCDeX y elige el disco',
                'article_3_p2': 'Al abrir la app, selecciona el disco duro donde se creará la partición de instalación temporal. Puedes usar cualquier disco interno o externo, pero asegúrate de elegir el correcto.',
                'article_3_h2_2': 'Paso 2: Selecciona la imagen ISO de Windows',
                'article_3_p3': 'Puedes usar cualquier ISO desde Windows 7 hasta Windows 11, incluyendo versiones modificadas. Si tu PC no cumple los requisitos de Windows 11 (TPM, Secure Boot), no te preocupes, BCDeX se encarga de omitir estas comprobaciones.',
                'article_3_h2_3': 'Paso 3: Deja que la app trabaje',
                'article_3_p4': 'Pulsando en "Siguiente", BCDeX iniciará el proceso automatizado: creará una partición, montará la ISO y copiará todos los archivos necesarios.',
                'article_3_h2_4': 'Paso 4: Personaliza tu instalación (Opcional)',
                'article_3_p5': 'Antes de finalizar, la app te da la opción de personalizar el nuevo Windows. Puedes crear un usuario, omitir la configuración de red, eliminar la telemetría y desinstalar bloatware para tener un sistema más limpio y rápido desde el primer momento.',
                'article_3_h2_5': 'Paso 5: Reinicia e instala',
                'article_3_p6': 'La app te preguntará si quieres reiniciar. Al hacerlo, el sistema arrancará en el entorno de instalación de BCDeX. Si no lo hace automáticamente, selecciónalo en el menú de arranque de tu PC. A partir de ahí, el proceso es el de una instalación normal de Windows.',
                'article_3_p7_note': '<strong>💡 Importante:</strong> Durante la instalación, no elimines la partición llamada "BCDeX Vol", ya que contiene todos los archivos necesarios.',
                'article_3_h2_6': 'Paso 6: Finalización y limpieza',
                'article_3_p8': 'Una vez instalado tu nuevo Windows, puedes ejecutar BCDeX de nuevo desde la partición temporal y usar la opción "Deshacer cambios". Esto eliminará la partición de instalación y devolverá el espacio a tu disco, dejando tu PC impecable.',
                'article_3_back_link': '← Volver a todos los artículos',
                'btn_copy': 'Copiar',
                'footer_copyright': '&copy; 2025 BCDeX. Todos los derechos reservados.',
                'footer_privacy': 'Política de Privacidad',
                'footer_terms': 'Términos de Servicio',
            },
            'en': {
                // EMPTY FOR NOW
            },
            'pt-br': {
                // EMPTY FOR NOW
            }
        };

        let currentLang = 'es';

        // Función para cambiar el idioma
        const setLanguage = (lang) => {
            currentLang = lang;
            localStorage.setItem('bcdeXLang', lang);
            document.documentElement.lang = lang;

            // 1. Aplicar traducciones a todos los elementos con data-i18n
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translations[lang] && translations[lang][key]) {
                    if (element.tagName === 'H1' || element.tagName === 'H2' || element.tagName === 'SPAN' || element.tagName === 'TITLE' || element.tagName === 'A') {
                        element.textContent = translations[lang][key];
                    } else if (element.tagName === 'LI' || element.tagName === 'P' || element.tagName === 'DIV') {
                        let content = translations[lang][key];
                        content = content.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                        element.innerHTML = content;
                    } else {
                        element.textContent = translations[lang][key];
                    }
                }
            });

            // 2. Aplicar traducción al título de la página
            const titleElement = document.querySelector('title');
            const titleKey = titleElement.getAttribute('data-i18n');
            if (translations[lang] && translations[lang][titleKey]) {
                titleElement.textContent = translations[lang][titleKey];
            }


            // 3. Actualizar la imagen/bandera activa en los selectores
            const updateSelector = (selectorId, dropdownId) => {
                const selector = document.getElementById(selectorId);
                const dropdown = document.getElementById(dropdownId);

                if (selector && dropdown) {
                    // Buscar la opción activa
                    const activeOption = dropdown.querySelector(`.language-option[data-lang="${lang}"]`);

                    // Resetear clases 'active' y establecer la nueva bandera
                    dropdown.querySelectorAll('.language-option').forEach(option => {
                        option.classList.remove('active');
                    });

                    if (activeOption) {
                        // Usar la imagen de bandera para el selector
                        const flagImgSrc = activeOption.getAttribute('data-flag-img');
                        selector.style.backgroundImage = `url('${flagImgSrc}')`;

                        // Ocultar la bandera activa en el dropdown para no duplicarla
                        activeOption.classList.add('active');
                    }
                }
            };

            updateSelector('language-selector-desktop', 'language-dropdown-desktop');
            updateSelector('language-selector-mobile', 'language-dropdown-mobile');
        };


        // Función para copiar código al portapapeles
        const copyToClipboard = (text, buttonElement) => {
            if (document.execCommand('copy')) {
                console.log('Texto copiado al portapapeles.');
            } else {
                console.error('No se pudo copiar al portapapeles.');
            }
        };


        // Listener principal para inicialización
        document.addEventListener('DOMContentLoaded', () => {

            // --- Menú Móvil ---
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const menuIcon = document.getElementById('menu-icon');
            const closeIcon = document.getElementById('close-icon');

            mobileMenuButton.addEventListener('click', () => {
                const isExpanded = mobileMenuButton.getAttribute('aria-expanded') === 'true' || false;

                // Toggle del menú
                mobileMenu.classList.toggle('hidden');
                mobileMenuButton.setAttribute('aria-expanded', !isExpanded);

                // Toggle de los íconos
                menuIcon.classList.toggle('hidden');
                closeIcon.classList.toggle('hidden');
            });

            // Cierra el menú móvil al hacer clic en un enlace (UX)
            mobileMenu.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    mobileMenu.classList.add('hidden');
                    mobileMenuButton.setAttribute('aria-expanded', 'false');
                    menuIcon.classList.remove('hidden');
                    closeIcon.classList.add('hidden');
                });
            });


            // --- Selectores de Idioma ---

            // Función para manejar el desplegable del idioma (para desktop y mobile)
            const toggleDropdown = (selectorId, dropdownId) => {
                const selector = document.getElementById(selectorId);
                const dropdown = document.getElementById(dropdownId);

                if (selector && dropdown) {
                    // Toggle del dropdown al hacer clic en el selector
                    selector.addEventListener('click', (e) => {
                        e.stopPropagation(); // Evita que el click se propague al document
                        // Cierra otros dropdowns abiertos
                        document.querySelectorAll('.language-dropdown.active').forEach(d => {
                            if (d.id !== dropdownId) {
                                d.classList.remove('active');
                            }
                        });
                        dropdown.classList.toggle('active');
                    });

                    // Seleccionar idioma al hacer clic en una opción
                    dropdown.querySelectorAll('.language-option').forEach(option => {
                        option.addEventListener('click', (event) => {
                            let selectedLang = event.currentTarget.getAttribute('data-lang');
                            setLanguage(selectedLang);
                            dropdown.classList.remove('active');
                        });
                    });
                }
            };

            // Cierra el dropdown al hacer clic fuera
            document.addEventListener('click', (event) => {
                document.querySelectorAll('.language-dropdown.active').forEach(dropdown => {
                    const selector = document.getElementById(dropdown.id.replace('dropdown', 'selector'));
                    if (!dropdown.contains(event.target) && !selector.contains(event.target)) {
                        dropdown.classList.remove('active');
                    }
                });
            });


            // Inicializar selectores
            toggleDropdown('language-selector-desktop', 'language-dropdown-desktop');
            toggleDropdown('language-selector-mobile', 'language-dropdown-mobile');

            // --- Cargar idioma inicial ---
            const initialLang = localStorage.getItem('bcdeXLang') || 'es';
            setLanguage(initialLang);

            // Inicializa los iconos de Lucide
            lucide.createIcons();
        });
    </script>

</body>

</html>
